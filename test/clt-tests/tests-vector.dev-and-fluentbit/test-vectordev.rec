––– block: ../base/dind/init –––
––– input –––
docker pull --platform linux/x86_64 timberio/vector-dev:latest > /dev/null; echo $?
––– output –––
0
––– input –––
docker run --platform linux/x86_64 -v $PWD/vector.yaml:/etc/vector/vector.yaml:ro -p 8686:8686 --name vector timberio/vector-dev:latest > /dev/null; echo $?
––– output –––
0
––– input –––
docker pull -q --platform linux/x86_64 ghcr.io/manticoresoftware/manticoresearch:test-kit-latest
––– output –––
0
––– input –––
docker run --platform linux/x86_64 --name manticore ghcr.io/manticoresoftware/manticoresearch:test-kit-latest indexer
––– output –––
0
––– input –––
echo '[sources]\n  [sources.dpkg_log]\n    type = "file"\n    include = ["/var/log/dpkg.log"]\n\n[transforms]\n  [transforms.rename_timestamp]\n    type = "rename_fields"\n    inputs = ["dpkg_log"]\n    fields.timestamp = "event_time"\n\n[sinks]\n  [sinks.manticore]\n    type = "manticore"\n    address = "tcp://localhost:9306"\n    index = "testlog"\n    batch_size = 1000\n    retries = 3' > vector.toml
––– output –––
––– input –––
ls -la
––– output –––
––– input –––
cat vector.toml
––– output –––
––– input –––
nohup vector -c vector.toml 2>/dev/null
––– output –––
––– input –––
mysql -P9306 -h0 -e "SHOW TABLES; DESCRIBE testlog; sELECT * FROM testlog LIMIT 3\G;"
––– output –––
