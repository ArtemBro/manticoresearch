––– input –––
echo "a > b" > /var/lib/manticore/wordforms1.txt; echo "c > d" > /var/lib/manticore/exc.txt; echo "abcstop" > /var/lib/manticore/stop.txt
––– output –––
––– input –––
ls -1 /var/lib/manticore/
––– output –––
exc.txt
stop.txt
wordforms1.txt
––– input –––
searchd; if timeout 10 grep -qm1 'accepting' <(tail -n 1000 -f /var/log/manticore/searchd.log); then echo 'Started'; else echo 'Timeout or failed!'; fi
––– output –––
Manticore %{SEMVER} %{COMMITDATE}#!/(\sdev)?\s/!#(columnar %{SEMVER} %{COMMITDATE}) (secondary %{SEMVER} %{COMMITDATE}) (knn %{SEMVER} %{COMMITDATE})
Copyright (c) 2001-2016, Andrew Aksyonoff
Copyright (c) 2008-2016, Sphinx Technologies Inc (http://sphinxsearch.com)
Copyright (c) 2017-%{YEAR}, Manticore Software LTD (https://manticoresearch.com)
[#!/[0-9]{2}:[0-9]{2}.[0-9]{3}/!#] [#!/[0-9]+/!#] using config file '/etc/manticoresearch/manticore.conf' (%{NUMBER} chars)...
starting daemon version '%{SEMVER} %{COMMITDATE}#!/(\sdev)?\s/!#(columnar %{SEMVER} %{COMMITDATE}) (secondary %{SEMVER} %{COMMITDATE}) (knn %{SEMVER} %{COMMITDATE})' ...
listening on %{IPADDR}:9312 for sphinx and http(s)
listening on %{IPADDR}:9306 for mysql
listening on %{IPADDR}:9308 for sphinx and http(s)
Started
––– input –––
mysql -h0 -P9306 -e "DROP TABLE IF EXISTS tbl; DROP TABLE IF EXISTS new_tbl; CREATE TABLE tbl (title TEXT, tag INTEGER) exceptions='/var/lib/manticore/exc.txt' wordforms='/var/lib/manticore/wordforms1.txt' stopwords='/var/lib/manticore/stop.txt';"
––– output –––
––– input –––
mysql -h0 -P9306 -e "INSERT INTO tbl (id, title, tag) values (1, 'zxczxc', 77);"
––– output –––
––– input –––
mysql -h0 -P9306 -e "SELECT * FROM tbl;"
––– output –––
+------+--------+------+
| id   | title  | tag  |
+------+--------+------+
|    1 | zxczxc |   77 |
+------+--------+------+
––– input –––
mysql -h0 -P9306 -e "SHOW CREATE TABLE tbl;"
––– output –––
+-------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| Table | Create Table                                                                                                                                                                                      |
+-------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| tbl   | CREATE TABLE tbl (
id bigint,
title text,
tag integer
) exceptions='/var/lib/manticore/tbl/exc.txt' stopwords='/var/lib/manticore/tbl/stop.txt' wordforms='/var/lib/manticore/tbl/wordforms1.txt' |
+-------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
––– input –––
mysql -h0 -P9306 -e "CREATE TABLE new_tbl LIKE tbl WITH DATA;"
––– output –––
––– input –––
mysql -h0 -P9306 -e "SHOW TABLES; SELECT * FROM new_tbl; SHOW CREATE TABLE new_tbl;"
––– output –––
+---------+------+
| Index   | Type |
+---------+------+
| new_tbl | rt   |
| tbl     | rt   |
+---------+------+
+------+--------+------+
| id   | title  | tag  |
+------+--------+------+
|    1 | zxczxc |   77 |
+------+--------+------+
+---------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| Table   | Create Table                                                                                                                                                                                                                     |
+---------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| new_tbl | CREATE TABLE new_tbl (
id bigint,
title text,
tag integer
) exceptions='/var/lib/manticore/new_tbl/exceptions.txt' stopwords='/var/lib/manticore/new_tbl/stopwords_0.txt' wordforms='/var/lib/manticore/new_tbl/wordforms_0.txt' |
+---------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
––– input –––
cat /var/lib/manticore/new_tbl/exceptions.txt
––– output –––
––– input –––
cat /var/lib/manticore/new_tbl/stopwords_0.txt
––– output –––
abcstop
––– input –––
cat /var/lib/manticore/new_tbl/wordforms_0.txt
––– output –––
