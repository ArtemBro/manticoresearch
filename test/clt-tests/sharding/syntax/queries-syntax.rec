––– block: ../base/init –––
––– input –––
export INSTANCE=1
––– output –––
––– block: ../base/flexible/start-searchd –––
––– input –––
mysql -h0 -P1306 -e "create table u(id bigint) shards=10 rf=1"; echo $?
––– output –––
0
––– input –––
mysql -h0 -P1306 -e "SHOW TABLES\G" | grep 'Index' | cut -d' ' -f 2 | sort
––– output –––
sharding_queue
sharding_state
sharding_table
u
u_s0
u_s1
u_s2
u_s3
u_s4
u_s5
u_s6
u_s7
u_s8
u_s9
––– input –––
mysql -h0 -P1306 -e "create table t(id bigint) rf=1 shards=10"; echo $?
––– output –––
0
––– input –––
mysql -h0 -P1306 -e "SHOW TABLES\G"
––– output –––
*************************** 1. row ***************************
Index: sharding_queue
Type: rt
*************************** 2. row ***************************
Index: sharding_state
Type: rt
*************************** 3. row ***************************
Index: sharding_table
Type: rt
*************************** 4. row ***************************
Index: t
Type: distributed
*************************** 5. row ***************************
Index: t_s0
Type: rt
*************************** 6. row ***************************
Index: t_s1
Type: rt
*************************** 7. row ***************************
Index: t_s2
Type: rt
*************************** 8. row ***************************
Index: t_s3
Type: rt
*************************** 9. row ***************************
Index: t_s4
Type: rt
*************************** 10. row ***************************
Index: t_s5
Type: rt
*************************** 11. row ***************************
Index: t_s6
Type: rt
*************************** 12. row ***************************
Index: t_s7
Type: rt
*************************** 13. row ***************************
Index: t_s8
Type: rt
*************************** 14. row ***************************
Index: t_s9
Type: rt
*************************** 15. row ***************************
Index: u
Type: distributed
*************************** 16. row ***************************
Index: u_s0
Type: rt
*************************** 17. row ***************************
Index: u_s1
Type: rt
*************************** 18. row ***************************
Index: u_s2
Type: rt
*************************** 19. row ***************************
Index: u_s3
Type: rt
*************************** 20. row ***************************
Index: u_s4
Type: rt
*************************** 21. row ***************************
Index: u_s5
Type: rt
*************************** 22. row ***************************
Index: u_s6
Type: rt
*************************** 23. row ***************************
Index: u_s7
Type: rt
*************************** 24. row ***************************
Index: u_s8
Type: rt
*************************** 25. row ***************************
Index: u_s9
Type: rt
